<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="File trait for regular and special files."><meta name="keywords" content="rust, rustlang, rust-lang, File"><title>File in os::fs - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../../os/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Trait File</a></h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.read">read</a><a href="#tymethod.readable">readable</a><a href="#tymethod.writable">writable</a><a href="#tymethod.write">write</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.hang_up">hang_up</a><a href="#method.ioctl">ioctl</a><a href="#method.kread">kread</a><a href="#method.kwrite">kwrite</a><a href="#method.r_ready">r_ready</a><a href="#method.stat">stat</a><a href="#method.w_ready">w_ready</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">os</a>::<wbr><a href="index.html">fs</a></h2><div id="sidebar-vars" data-name="File" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../os/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../index.html">os</a>::<wbr><a href="index.html">fs</a>::<wbr><a class="trait" href="#">File</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/os/fs/mod.rs.html#42-121" title="goto source code">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait File: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    fn <a href="#tymethod.readable" class="fnname">readable</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.writable" class="fnname">writable</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.read" class="fnname">read</a>(&amp;self, buf: <a class="struct" href="../mm/page_table/struct.UserBuffer.html" title="struct os::mm::page_table::UserBuffer">UserBuffer</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.write" class="fnname">write</a>(&amp;self, buf: <a class="struct" href="../mm/page_table/struct.UserBuffer.html" title="struct os::mm::page_table::UserBuffer">UserBuffer</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>;

    fn <a href="#method.kread" class="fnname">kread</a>(&amp;self, _offset: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;, _buffer: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">]</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.kwrite" class="fnname">kwrite</a>(&amp;self, _offset: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;, _buffer: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">]</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.ioctl" class="fnname">ioctl</a>(&amp;self, _cmd: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u32.html">u32</a>, _arg: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.isize.html">isize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.r_ready" class="fnname">r_ready</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.w_ready" class="fnname">w_ready</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.hang_up" class="fnname">hang_up</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.stat" class="fnname">stat</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="struct" href="struct.Stat.html" title="struct os::fs::Stat">Stat</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>File trait for regular and special files.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.readable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#45" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.readable" class="fnname">readable</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Whether the file is inherently readable.
Usually used as an indicator for authority for regular files.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.writable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#48" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.writable" class="fnname">writable</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Whether the file is inherently writable.
Usually used as an indicator for authority for regular files.</p>
</div></details><div id="tymethod.read" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#49" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.read" class="fnname">read</a>(&amp;self, buf: <a class="struct" href="../mm/page_table/struct.UserBuffer.html" title="struct os::mm::page_table::UserBuffer">UserBuffer</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a></h4></div><div id="tymethod.write" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#50" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.write" class="fnname">write</a>(&amp;self, buf: <a class="struct" href="../mm/page_table/struct.UserBuffer.html" title="struct os::mm::page_table::UserBuffer">UserBuffer</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a></h4></div></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.kread" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#57-59" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.kread" class="fnname">kread</a>(&amp;self, _offset: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;, _buffer: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">]</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Read a buffer from the file into the kernel buffer.</p>
<h5 id="unimplementation-misinformation" class="section-header"><a href="#unimplementation-misinformation">Unimplementation (Mis)Information</a></h5>
<p>This function must be manually implemented.
Calling the default implementation will result in a <code>todo!()</code> panic.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.kwrite" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#65-67" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.kwrite" class="fnname">kwrite</a>(&amp;self, _offset: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;, _buffer: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.slice.html">]</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Write to a buffer from the file into the kernel buffer.</p>
<h5 id="unimplementation-misinformation-1" class="section-header"><a href="#unimplementation-misinformation-1">Unimplementation (Mis)Information</a></h5>
<p>This function must be manually implemented.
Calling the default implementation will result in a <code>todo!()</code> panic.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.ioctl" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#73-76" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.ioctl" class="fnname">ioctl</a>(&amp;self, _cmd: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u32.html">u32</a>, _arg: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.isize.html">isize</a></h4></div></summary><div class="docblock"><p>Control the device file.
manipulates the underlying device parameters of special files.
In particular, many operating characteristics of character special files
(e.g., terminals) may be controlled with ioctl() requests.
See the specific file type and its implementation for hint about available commands and arguments.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.r_ready" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#80-82" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.r_ready" class="fnname">r_ready</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Check whether the current file is ready to be read.</p>
<h5 id="unimplementation-misinformation-2" class="section-header"><a href="#unimplementation-misinformation-2">Unimplementation (Mis)Information</a></h5>
<p>If the function is left unimplemented, it will always return <code>true</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.w_ready" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#86-88" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.w_ready" class="fnname">w_ready</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Check whether the current file is ready to be written to</p>
<h5 id="unimplementation-misinformation-3" class="section-header"><a href="#unimplementation-misinformation-3">Unimplementation (Mis)Information</a></h5>
<p>If the function is left unimplemented, it will always return <code>true</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.hang_up" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#94-96" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.hang_up" class="fnname">hang_up</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Check whether the current file is hanged up and has nothing to read.
In pipes, this functions checks whether the counterpart has closed the other end.</p>
<h5 id="unimplementation-misinformation-4" class="section-header"><a href="#unimplementation-misinformation-4">Unimplementation (Mis)Information</a></h5>
<p>If the function is left unimplemented, it will always return <code>false</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.stat" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/mod.rs.html#99-120" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.stat" class="fnname">stat</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="struct" href="struct.Stat.html" title="struct os::fs::Stat">Stat</a>&gt;</h4></div></summary><div class="docblock"><p>Get the <code>Stat</code> for this file.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><div id="impl-File" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/dev/pseudo.rs.html#29-43" title="goto source code">source</a></div><a href="#impl-File" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.File.html" title="trait os::fs::File">File</a> for <a class="struct" href="dev/pseudo/struct.Null.html" title="struct os::fs::dev::pseudo::Null">Null</a></h3></div><div id="impl-File-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/dev/pseudo.rs.html#13-27" title="goto source code">source</a></div><a href="#impl-File-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.File.html" title="trait os::fs::File">File</a> for <a class="struct" href="dev/pseudo/struct.Zero.html" title="struct os::fs::dev::pseudo::Zero">Zero</a></h3></div><div id="impl-File-2" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/dev/tty.rs.html#61-206" title="goto source code">source</a></div><a href="#impl-File-2" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.File.html" title="trait os::fs::File">File</a> for <a class="struct" href="dev/tty/struct.Teletype.html" title="struct os::fs::dev::tty::Teletype">Teletype</a></h3></div><div id="impl-File-3" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/inode.rs.html#427-543" title="goto source code">source</a></div><a href="#impl-File-3" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.File.html" title="trait os::fs::File">File</a> for <a class="struct" href="inode/struct.OSInode.html" title="struct os::fs::inode::OSInode">OSInode</a></h3></div><div id="impl-File-4" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/os/fs/pipe.rs.html#122-232" title="goto source code">source</a></div><a href="#impl-File-4" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.File.html" title="trait os::fs::File">File</a> for <a class="struct" href="pipe/struct.Pipe.html" title="struct os::fs::pipe::Pipe">Pipe</a></h3></div></div><script type="text/javascript" src="../../implementors/os/fs/trait.File.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="os" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (9ad5d82f8 2022-01-18)" ></div>
</body></html>